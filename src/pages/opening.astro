---
import Container from "../components/container.astro"
---
<div class="loading__wrapper">
  <span class="loading__text">Loading...</span>
</div>
<Container>
  <h1>Hello World</h1>
</Container>
<style lang="scss">
.loading{
  &__wrapper{
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #000;
    z-index: 100;
    display: grid;
    place-items: center;
    pointer-events: none;
  }
  &__text {
    color: #fff;
    font-size: 2rem;
    text-align: center;
  }
}
</style>

<script>
  import { gsap } from 'gsap';
  import { SplitText } from 'gsap/SplitText';
  gsap.registerPlugin(SplitText) 

const split = SplitText.create(".loading__text", { //SplitText.createでテキストを分割
  type: "chars", // 文字単位で分割 words:単語単位で分割　lines:行単位で分割
  mask: "chars",
  autoSplit: true
});
const textAnimation = gsap.from(split.chars, { //文字単位でアニメーション
  duration: 0.5, 
  y: 100, 
  autoAlpha: 0, 
  stagger: 0.1
});
const loadingAnimation = gsap.to(".loading__wrapper", {
  opacity: 0,
  duration: 0.5,
  delay: 1
})
const tl = gsap.timeline(); // はじめに初期化
// 続けて動かしたい要素を追加
tl.add(textAnimation);
tl.add(loadingAnimation);
</script>